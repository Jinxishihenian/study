###                                                                                       flutter项目总结

#### 说明

​	几个月下来flutter磕磕绊绊的也完成了,这篇文章的主要目的就是总结项目中的问题,难点,注意点,为以后的工作和学习打好更坚实的基础.

#### 加载数据

​	在页面中,**将不同的操作写成不同的方法**,这个样做的好处1.使**整个逻辑更加清晰明了,有助与项目的维护,更新,和更改错误**,**增加代码的复用性**;当然加载页面所需要的数据也不例外,看**项目中的实例**(具体实例只有结合项目来看了),加载方法封装成了 _ loadDate()方法,这样我在操作下个有关于加载当前页面的数据的时候我就可以继续去使用这个方法而不用再次去重写,这个页面(合同列表)有**1.加载更多,2.上拉刷新,3.搜索**,三个与加载数据的方法,当我执行这些操作的时候,我只需要将,_loadDate(),**方法中所依赖的值改变就行了**,当然我需要把这些所依赖的值共享起来,如page,startTime,开始时间结束时间.

#### 屏幕适配

​	在一个项目开始前,千万千万要**商量好处理用什么方案适配,大概要的适配效果,这样后期写得时候可以省去好多麻烦**,**处理屏幕适配前期开展项目的重点工作之一**(特别是手机端,哇各种各样的屏幕尺寸想死的心都有了).目前这个项目适配效果不太好,很希望把这一点给处理了.flutter的适配可以借助一个库**flutter_ScreenUtil**,看了一下使用起来不是太麻烦,并且可以去适配文字,感觉这一点做的很棒**.这样无论你在写什么样的样式和动画,在不同的手机下都不会跟设计图的效果有太大的偏差**;**项目中的反面教材**实时库存的显示问题,当初因为没考虑到页面的适配问题导致,只能让超出的宽度来左右滑动显示,效果不理想,还有**运距**这个表格同样因为适配导致了,很多问题的出现,所有在开展项目之前处理好**适配问题一定是重中之中**,这关于整个项目的效果.

#### **公共组件的封装**

​	其实对于**模块化开发,**我心里一直没什么概念我想找机会补上这一课堂,在页面上有很多相同类似的内容,比如**任务单的状态显示,合同的状态显示**,这些东西都很类似,如果**封装成一个公共类的组件的东西的话用起来会方便的多,**但是我目前没把握能把他封装好,以后这样的东西能**封装成组件就封装**.

#### **代码规范和代码质量问题**

​	对于现在自己的代码质量,用组长的话来说就是混弄,这种为实现功能而写出来的代码有以下几个致命问题**,1.养成不良的习惯,给自己以后的开发和学习带来很大困扰,开发(自己看不懂自己写的代码,别人看不懂你写得代码,如何维护),学习(没有良好的逻辑思维,代码是东一榔头西一棒子,怎么看,特别是比较复杂的逻辑)**,**2.容易产生错误并且不好解决*****3.不利于项目的再次开发,当自己想去项目中添加新的功能或者优化的时候,发现代码的耦合性特别高,动都动不了,在开发的成本远大于再次开发的成本.那么你的代码就是一段段,混乱的语句****.还有比较重要的一点**命名和注释,**命名尽量做到**见名知意,如果做不到就多写注释**,目前我就尽量去写注释.

#### **书写代码的态度**

​	代码这个东西,你要越图省事越省事不了,净是给自己找事做,写代码的时候一定要做到**认真细心**,**多测试**,**能做到胸有成竹的时候我感觉是最佳状态,这样就算哪里出错了,自己也能马上找到问题所在**.不然到后期项目完成的时候有自己返工的时候,比如:加载更多的时候page字段出过好多问题,还有比较恶心的页面出现字段为null,的情况,**写代码一定要养成细心的习惯,坚持下来就能养成习惯**

#### **错误处理**

​	原本我是想在这里说代码的健壮性的,但是想想算了,感觉自己还没那个能力去分析那;就结合项目中最常见的错误处理吧,目前我遇到最多的错误是,**自己在使用后台的数据,因为数据异常(比如自己认为这个数据应该是数组,结果却是一个null,而自己又将这个数据当做数据操作程序直接死了)**,处理这个问题,1.使用前**加上一个判断(**行的通的但是我一直觉的这样的处理方法不太好),2.**使用try catch抛出异常这个是我认为比较好的一个方法但是还没在实际中使用过**(不知道效果怎样),如果数据异常我现在想的是,将数据初始化成自己想要的数据格式让程序可以继续跑下去，只不过没有数据的值.

#### **请求方法的封装**

​	在这里成功的请求我就不说了,重点是错误的请求比如**接口404,服务器500,请求超时,网络不可以用等等**,flutter使用的是,dio这个库,自己也找到了他当他网络错误时触发的函数.但是问题现在问题是,因为,前期调用接口的时候没有预备当请求错误时的处理函数和方案，导致现在自己只能在当前页面弹出请求的错误信息,所以下次写这些**请求方法的时候一定要留一个处理请求错误的方法来处理,当请求错误时我执行什么样的操作**．







